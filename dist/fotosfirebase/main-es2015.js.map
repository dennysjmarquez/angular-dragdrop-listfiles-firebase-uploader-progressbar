{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/components/carga/carga.component.html","webpack:///./src/app/components/fotos/fotos.component.html","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/carga/carga.component.ts","webpack:///./src/app/components/fotos/fotos.component.ts","webpack:///./src/app/directives/ng-drop-files.directive.ts","webpack:///./src/app/models/file-item.ts","webpack:///./src/app/services/carga-fotos.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;ACZA,+3B;;;;;;;;;;;ACAA,gQAAgQ,+BAA+B,wUAAwU,kYAAkY,gBAAgB,qCAAqC,uBAAuB,sBAAsB,uBAAuB,mDAAmD,kKAAkK,6BAA6B,KAAK,iBAAiB,sH;;;;;;;;;;;ACA12C,8C;;;;;;;;;;;;;;;;;;;;ACAyC;AACc;AACW;AACA;AAElE,MAAM,MAAM,GAAW;IACrB,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,gFAAc,EAAC;IAC1C,EAAC,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,gFAAc,EAAC;IAC1C,EAAC,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAC;IACpD,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAC;CACnD,CAAC;AAMF,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAI;AAApB,gBAAgB;IAJ5B,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,EAAC,EAAC,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;QACvD,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,gBAAgB,CAAI;AAAJ;;;;;;;;;;;;AChB7B,+DAA+D,+H;;;;;;;;;;;;;;;;;ACArB;AAO1C,IAAa,YAAY,GAAzB,MAAa,YAAY;IALzB;QAME,UAAK,GAAG,eAAe,CAAC;IAC1B,CAAC;CAAA;AAFY,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,uIAAmC;;KAEpC,CAAC;GACW,YAAY,CAExB;AAFwB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACjB;AAEe;AACE;AAE1D,WAAW;AACuC;AACe;AAGjE,cAAc;AACiC;AACqB;AACA;AACQ;AAkB5E,IAAa,SAAS,GAAtB,MAAa,SAAS;CAAI;AAAb,SAAS;IAhBrB,8DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2DAAY;YACZ,gFAAc;YACd,gFAAc;YACd,yFAAoB;SACrB;QACD,OAAO,EAAE;YACP,uEAAa;YACb,oEAAgB;YAChB,+DAAiB,CAAC,aAAa,CAAC,qEAAW,CAAC,QAAQ,CAAC;YACrD,8EAAsB;SACvB;QACD,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,2DAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;ACjC4B;AAEqB;AAOvE,IAAa,cAAc,GAA3B,MAAa,cAAc;IAMzB,YAAmB,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;QAJvD,sBAAiB,GAAG,KAAK,CAAC;QAE1B,aAAQ,GAAe,EAAE,CAAC;IAEiC,CAAC;IAE5D,QAAQ;IACR,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC/D,CAAC;IAED,eAAe;QACb,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;CAGF;AApBY,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,4JAAqC;KAEtC,CAAC;2EAOsC,+EAAiB;GAN5C,cAAc,CAoB1B;AApB0B;;;;;;;;;;;;;;;;;;ACTuB;AAOlD,IAAa,cAAc,GAA3B,MAAa,cAAc;IAEzB,gBAAgB,CAAC;IAEjB,QAAQ;IACR,CAAC;CAEF;AAPY,cAAc;IAL1B,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,4JAAqC;KAEtC,CAAC;;GACW,cAAc,CAO1B;AAP0B;;;;;;;;;;;;;;;;;;;ACPsE;AACpD;AAK7C,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;IAK/B;QAHS,aAAQ,GAAe,EAAE,CAAC;QACzB,eAAU,GAA0B,IAAI,0DAAY,EAAE,CAAC;IAEjD,CAAC;IAE4B,WAAW,CAAC,KAAU;QAEjE,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAE7B,CAAC;IAE6C,SAAS,CAAC,KAAU;QAChE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAEwC,MAAM,CAAC,KAAU;QAExD,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAE7B,MAAM,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAE9C,IAAI,CAAC,QAAQ,EAAE;YAAE,OAAO;SAAE;QAE1B,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAE9B,CAAC;IAEO,gBAAgB,CAAC,KAAU;QAEjC,OAAO,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,YAAY,CAAC;IAEpF,CAAC;IAEO,gBAAgB,CAAC,aAAuB;QAE9C,MAAM,CAAC,mBAAmB,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,OAAY,EAAE,EAAE;YAEjE,MAAO,cAAc,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;YAE/C,IAAI,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;gBAEnC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,0DAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;aAElD;QAEH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,eAAe;IAEP,UAAU,CAAC,OAAa;QAE9B,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAEnE,CAAC;IAEO,OAAO,CAAC,aAAqB;QAEnC,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YAEnC,IAAI,OAAO,CAAC,aAAa,KAAK,aAAa,EAAE;gBAE3C,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,aAAa,CAAC,CAAC;gBAElD,OAAO,IAAI,CAAC;aAEb;SAEF;QAED,OAAO,KAAK,CAAC;IAEf,CAAC;IAEO,OAAO,CAAC,WAAmB;QAEjC,OAAO,CAAC,WAAW,KAAK,EAAE,IAAI,WAAW,KAAK,OAAO,WAAW,CAAC;YAC/D,CAAC,CAAC,KAAK;YACP,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;IAEtC,CAAC;IAEO,gBAAgB,CAAC,KAAK;QAE5B,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,KAAK,CAAC,eAAe,EAAE,CAAC;IAE1B,CAAC;CAGF;AA7FU;IAAR,2DAAK,EAAE;;sDAA2B;AACzB;IAAT,4DAAM,EAAE;oEAAa,0DAAY;wDAA+B;AAI3B;IAArC,kEAAY,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;uDAKpC;AAEsC;IAAtC,kEAAY,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;qDAErC;AAEiC;IAAjC,kEAAY,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC;;;;kDAWhC;AA7BU,oBAAoB;IAHhC,+DAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;KAC7B,CAAC;;GACW,oBAAoB,CA+FhC;AA/FgC;;;;;;;;;;;;;ACNjC;AAAA;AAAO,MAAM,QAAQ;IAQnB,YAAY,OAAa;QAEvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC,IAAI,CAAC;QAClC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;IAEpB,CAAC;CAEF;;;;;;;;;;;;;;;;;;;;;;ACjB0C;AACgB;AAElB;AACf;AAK1B,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAI5B,YAAoB,EAAoB;QAApB,OAAE,GAAF,EAAE,CAAkB;QAFhC,qBAAgB,GAAG,KAAK,CAAC;IAEW,CAAC;IAE7C,sBAAsB,CAAC,QAAoB;QAEzC,MAAM,UAAU,GAAG,oDAAgB,EAAE,CAAC,GAAG,EAAE,CAAC;QAE5C,KAAK,MAAM,IAAI,IAAI,QAAQ,EAAE;YAE3B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAEzB,IAAI,IAAI,CAAC,QAAQ,IAAI,GAAG,EAAE;gBACxB,SAAS;aACV;YAED,MAAM,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAExG,UAAU,CAAC,EAAE,CAAC,oDAAgB,CAAC,SAAS,CAAC,aAAa,EAEpD,CAAC,QAAQ,EAAE,EAAE;gBAEX,MAAM,IAAI,GAAG,QAA+C,CAAC;gBAC7D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC;YAE9E,CAAC,EACD,CAAC,KAAK,EAAE,EAAE;gBAER,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC,EACD,GAAG,EAAE;gBAEH,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;oBAE1D,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,WAAW,CAAC,CAAC;oBACzD,IAAI,CAAC,GAAG,GAAG,WAAW,CAAC;oBACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;oBAE1B,IAAI,CAAC,aAAa,CAAC;wBACjB,MAAM,EAAE,IAAI,CAAC,aAAa;wBAC1B,GAAG,EAAE,IAAI,CAAC,GAAG;qBACd,CAAC,CAAC;gBAEL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SAEN;IAGH,CAAC;IAEO,aAAa,CAAC,MAAqC;QAEzD,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IAE9D,CAAC;CAEF;AA3DY,iBAAiB;IAH7B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;2EAKwB,wEAAgB;GAJ7B,iBAAiB,CA2D7B;AA3D6B;;;;;;;;;;;;;ACT9B;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,QAAQ,EAAE;QACR,MAAM,EAAE,yCAAyC;QACjD,UAAU,EAAE,iCAAiC;QAC7C,WAAW,EAAE,wCAAwC;QACrD,SAAS,EAAE,iBAAiB;QAC5B,aAAa,EAAE,6BAA6B;QAC5C,iBAAiB,EAAE,eAAe;QAClC,KAAK,EAAE,sCAAsC;KAC9C;CACF,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACxBnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AAE9B;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"<nav class=\\\"navbar navbar-expand-lg navbar-dark bg-dark\\\">\\n  <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarNav\\\" aria-controls=\\\"navbarNav\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n    <span class=\\\"navbar-toggler-icon\\\"></span>\\n  </button>\\n  <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarNav\\\">\\n    <ul class=\\\"navbar-nav\\\">\\n<!--      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\">-->\\n<!--        <a class=\\\"nav-link\\\" routerLink=\\\"fotos\\\">Fotos</a>-->\\n<!--      </li>-->\\n      <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\">\\n        <a class=\\\"nav-link\\\" routerLink=\\\"carga\\\">Cargar fotos</a>\\n      </li>\\n    </ul>\\n  </div>\\n</nav>\\n<div class=\\\"container-fluid pt-4 pb-3\\\">\\n  <h1>App Upload Images to Firebase and Show</h1>\\n  <hr/>\\n  <router-outlet></router-outlet>\\n</div>\\n\"","module.exports = \"<div class=\\\"row\\\">\\n\\n  <div class=\\\"col-md-4\\\">\\n    \\n    <h3>Seleccione archivos</h3>\\n    <div appNgDropFiles [archivos]=\\\"archivos\\\" (mouseSobre)=\\\"estaSobreElemento = $event\\\" class=\\\"card card-body drop-zone-border\\\" [ngClass]=\\\"{'file-over': estaSobreElemento}\\\">\\n      <h4>Deje caer aquí los archivos</h4>\\n      <div class=\\\"drop-zone\\\">\\n\\n      </div>\\n\\n    </div>\\n    \\n  </div>\\n\\n  <div class=\\\"col-md-8\\\">\\n\\n    <h4>Cargar archivos</h4>\\n\\n    <button (click)=\\\"cargarImagenes()\\\" [disabled]=\\\"archivos.length === 0\\\" class=\\\"btn btn-success\\\">Cargar a Firebase</button>&nbsp;\\n    <button (click)=\\\"limpiarArchivos()\\\" class=\\\"btn btn-danger\\\" [disabled]=\\\"archivos.length === 0\\\">Limpiar</button>\\n\\n    <table class=\\\"table\\\">\\n      <thead class=\\\"thead-dark\\\">\\n        <tr>\\n          <th>Nombre Archivo</th>\\n          <th>Tamaño</th>\\n          <th>Progreso</th>\\n        </tr>\\n      </thead>\\n\\n      <tbody>\\n        <tr *ngFor=\\\"let item of archivos;\\\" [ngClass]=\\\"{'text-success': item.progreso >= 100}\\\">\\n\\n          <td>{{ item.nombreArchivo }}</td>\\n          <td>{{ item.archivo.size / 1024 / 1024 | number:'.2-2' }} MB</td>\\n          <td>\\n\\n            <div class=\\\"progress\\\" *ngIf=\\\"!item.url\\\">\\n              <div class=\\\"progress-bar\\\" role=\\\"progressbar\\\" [ngStyle]=\\\"{'width': item.progreso + '%'}\\\">{{ item.progreso }}%</div>\\n            </div>\\n\\n          </td>\\n\\n        </tr>\\n      </tbody>\\n    </table>\\n\\n  </div>\\n\\n</div>\\n\"","module.exports = \"<p>\\n  fotos works!\\n</p>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {FotosComponent} from './components/fotos/fotos.component';\nimport {CargaComponent} from './components/carga/carga.component';\n\nconst routes: Routes = [\n  {path: 'fotos', component: FotosComponent},\n  {path: 'carga', component: CargaComponent},\n  {path: '**', pathMatch: 'full', redirectTo: 'carga'},\n  {path: '', pathMatch: 'full', redirectTo: 'carga'}\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes,{useHash: true})],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'fotosfirebase';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { environment } from '../environments/environment';\n\n// Firebase\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\n\n\n// Componentes\nimport { AppComponent } from './app.component';\nimport { FotosComponent } from './components/fotos/fotos.component';\nimport { CargaComponent } from './components/carga/carga.component';\nimport { NgDropFilesDirective } from './directives/ng-drop-files.directive';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    FotosComponent,\n    CargaComponent,\n    NgDropFilesDirective\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FileItem } from '../../models/file-item';\nimport { CargaFotosService } from '../../services/carga-fotos.service';\n\n@Component({\n  selector: 'app-carga',\n  templateUrl: './carga.component.html',\n  styles: []\n})\nexport class CargaComponent implements OnInit {\n\n  estaSobreElemento = false;\n\n  archivos: FileItem[] = [];\n\n  constructor(public cargaFotosService: CargaFotosService) { }\n\n  ngOnInit() {\n  }\n\n  cargarImagenes() {\n    this.cargaFotosService.cargarImagenesFirebase(this.archivos);\n  }\n\n  limpiarArchivos() {\n    this.archivos = [];\n  }\n\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-fotos',\n  templateUrl: './fotos.component.html',\n  styles: []\n})\nexport class FotosComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Directive, HostListener, EventEmitter, ElementRef, Input, Output } from '@angular/core';\nimport {FileItem} from '../models/file-item';\n\n@Directive({\n  selector: '[appNgDropFiles]'\n})\nexport class NgDropFilesDirective {\n\n  @Input() archivos: FileItem[] = [];\n  @Output() mouseSobre: EventEmitter<boolean> = new EventEmitter();\n\n  constructor() { }\n\n  @HostListener('dragover', ['$event']) public onDragEnter(event: any) {\n\n    this._prevedirDetener(event);\n    this.mouseSobre.emit(true);\n\n  }\n\n  @HostListener('dragleave', ['$event']) public onDragEnd(event: any) {\n    this.mouseSobre.emit(false);\n  }\n\n  @HostListener('drop', ['$event']) public onDrop(event: any) {\n\n    this._prevedirDetener(event);\n\n    const transfer = this._getDataTransfer(event);\n\n    if (!transfer) { return; }\n\n    this._extraerArchivos(transfer.files);\n    this.mouseSobre.emit(false);\n\n  }\n\n  private _getDataTransfer(event: any) {\n\n    return event.dataTransfer ? event.dataTransfer : event.originalEvent.dataTransfer;\n\n  }\n\n  private _extraerArchivos(archivosLista: FileList) {\n\n    Object.getOwnPropertyNames(archivosLista).forEach((element: any) => {\n\n      const  currentElement = archivosLista[element];\n\n      if (this._canLoaded(currentElement)) {\n\n        this.archivos.push(new FileItem(currentElement));\n\n      }\n\n    });\n\n  }\n\n  // Validaciones\n\n  private _canLoaded(archivo: File): boolean {\n\n    return !this._isDrop(archivo.name) && this.isImage(archivo.type);\n\n  }\n\n  private _isDrop(nombreArchivo: string): boolean {\n\n    for (const archivo of this.archivos) {\n\n      if (archivo.nombreArchivo === nombreArchivo) {\n\n        console.log('Ya esta en la lista', nombreArchivo);\n\n        return true;\n\n      }\n\n    }\n\n    return false;\n\n  }\n\n  private isImage(tipoArchivo: string): boolean {\n\n    return (tipoArchivo === '' || 'undefined' === typeof tipoArchivo)\n      ? false\n      : tipoArchivo.startsWith('image');\n\n  }\n\n  private _prevedirDetener(event) {\n\n    event.preventDefault();\n    event.stopPropagation();\n\n  }\n\n\n}\n","export class FileItem {\r\n\r\n  public archivo: File;\r\n  public nombreArchivo: string;\r\n  public url: string;\r\n  public estaSubinedo: boolean;\r\n  public progreso: number;\r\n\r\n  constructor(archivo: File) {\r\n\r\n    this.archivo = archivo;\r\n    this.nombreArchivo = archivo.name;\r\n    this.estaSubinedo = false;\r\n    this.progreso = 0;\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { AngularFirestore } from '@angular/fire/firestore';\nimport { FileItem } from '../models/file-item';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CargaFotosService {\n\n  private CARPETA_IMAGENES = 'img';\n\n  constructor(private db: AngularFirestore) { }\n\n  cargarImagenesFirebase(imagenes: FileItem[]) {\n\n    const storageRef = firebase.storage().ref();\n\n    for (const item of imagenes) {\n\n      item.estaSubinedo = true;\n\n      if (item.progreso >= 100) {\n        continue;\n      }\n\n      const uploadTask = storageRef.child(`${this.CARPETA_IMAGENES}/${item.nombreArchivo}`).put(item.archivo);\n\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n\n        (snapshot) => {\n\n          const snap = snapshot as firebase.storage.UploadTaskSnapshot;\n          item.progreso = Math.round((snap.bytesTransferred / snap.totalBytes) * 100);\n\n        },\n        (error) => {\n\n          console.log(error);\n        },\n        () => {\n\n          uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n\n            console.log('Imagen cargada correctamente', downloadURL);\n            item.url = downloadURL;\n            item.estaSubinedo = false;\n\n            this.guardarImagen({\n              nombre: item.nombreArchivo,\n              url: item.url\n            });\n\n          });\n        });\n\n    }\n\n\n  }\n\n  private guardarImagen(imagen: {nombre: string, url: string}) {\n\n    this.db.collection(`/${this.CARPETA_IMAGENES}`).add(imagen);\n\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: 'AIzaSyAOeVXYz68lCews3A_qsNtt6Y8XP9woTfs',\n    authDomain: 'fir-fotos-b151c.firebaseapp.com',\n    databaseURL: 'https://fir-fotos-b151c.firebaseio.com',\n    projectId: 'fir-fotos-b151c',\n    storageBucket: 'fir-fotos-b151c.appspot.com',\n    messagingSenderId: '1098475890435',\n    appId: '1:1098475890435:web:216333093d82b9c0'\n  }\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}